# Drupal Sticky Diary Layout

This folder contains reusable CSS and JavaScript for creating sticky diary-style articles in Drupal.

## Files

- **sticky.css** - All styling for the sticky layout, including responsive behavior
- **sticky.js** - Dynamic navigation that automatically detects sections and creates Back/Next buttons
- **@sticky.html** - Template snippet showing how to include the CSS and JS in your Drupal body field

## How It Works

### Dynamic Navigation

The JavaScript automatically:
1. Finds all elements with class `.scroll-anchor` that have an `id` attribute
2. Creates Back/Next navigation buttons for each section
3. Hides the "Back" button on the first section
4. Hides the "Next" button on the last section
5. Works with any number of sections - just add or remove `.scroll-anchor` elements

### HTML Structure Required

Each section needs:
```html
<p style="height:0;margin:0;padding:0;">
    <a class="scroll-anchor" id="your-section-id" name="your-section-id">&nbsp;</a>
</p>
```

And a navigation placeholder:
```html
<p class="next-button">
    <!-- Navigation buttons generated by sticky.js -->
</p>
```

### Adding to Drupal

1. Copy the contents of `@sticky.html` to the top of your Drupal body field
2. Paste your article HTML (without inline `<style>` or `<script>` tags)
3. The CSS and JS will load from your dev server at `https://localhost:5173/styles/drupal/`

### Creating a New Story

To create a new story with the same layout:
1. Use the same HTML structure with `.scroll-anchor` elements
2. Give each section a unique `id` (e.g., `intro`, `chapter1`, `chapter2`, etc.)
3. Add as many or as few sections as you need
4. The navigation will automatically adapt

### CSS Scroll Behavior

The layout uses modern CSS `scroll-margin-top` to offset anchor jumps for sticky headers:
- Desktop: 6rem offset
- Tablet (≤750px): 5rem offset  
- Mobile (≤500px): 4rem offset

Combined with `html { scroll-behavior: smooth; }` for smooth scrolling.

## Development

When developing locally, the files are served from:
- `https://localhost:5173/styles/drupal/sticky.css`
- `https://localhost:5173/styles/drupal/sticky.js`

For production, update the URLs in `@sticky.html` to point to your production server.

